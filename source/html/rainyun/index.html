<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çŸ³å¢¨çƒ¯ç§¯æœ¨åšå®¢ä¸“å± - é›¨äº‘ä¼˜æƒ åˆ¸</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link rel="stylesheet" href="rainyun-coupon.css">
</head>
<body>
    <!-- äº‘æœµèƒŒæ™¯ -->
    <div class="clouds">
        <div class="cloud cloud1"></div>
        <div class="cloud cloud2"></div>
        <div class="cloud cloud3"></div>
    </div>

    <!-- é›¨æ»´æ•ˆæœ -->
    <div class="rain" id="rain"></div>

    <div id="app">
        <div class="card">
            <h1>ğŸŒ§ï¸ é›¨äº‘ä¸“å±ä¼˜æƒ </h1>
            <p class="subtitle">é¢†å–ä¸€å¼ é¦–æœˆ5æŠ˜ä¼˜æƒ åˆ¸</p>

            <a :href="registerUrl"
               target="_blank"
               class="btn">
                <div class="btn-wrapper">
                    <div class="btn-text">ç«‹å³æ³¨å†Œé¢†å–</div>
                    <span class="btn-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="2em" height="2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24">
                            <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15V3m0 12l-4-4m4 4l4-4M2 17l.621 2.485A2 2 0 0 0 4.561 21h14.878a2 2 0 0 0 1.94-1.515L22 17"></path>
                        </svg>
                    </span>
                </div>
            </a>

            <div style="margin: 20px 0; color: #666; font-size: 0.9em;">
                â€”â€” æˆ–è€… â€”â€”
            </div>

            <div class="coupon-code">
                <div class="code">{{ couponCode }}</div>
                <button
                    class="copy-btn"
                    :class="{ copied: isCopied }"
                    @click="copyCode">
                    <span class="copy-btn-lg">
                        <span class="copy-btn-sl"></span>
                        <span class="copy-btn-text">{{ copyButtonText }}</span>
                    </span>
                </button>
            </div>

            <div class="notice">
                <strong>ä½¿ç”¨è¯´æ˜ï¼š</strong><br>
                â€¢ ä¼˜å…ˆä½¿ç”¨ä¸Šæ–¹æ³¨å†ŒæŒ‰é’®ï¼Œè‡ªåŠ¨è·å¾—ä¼˜æƒ <br>
                â€¢ æˆ–æ‰‹åŠ¨å¤åˆ¶ä¼˜æƒ ç åœ¨æ³¨å†Œæ—¶å¡«å†™<br>
                â€¢ é€‚ç”¨äºå¤§éƒ¨åˆ†äº‘æœåŠ¡å™¨äº§å“
            </div>

            <div style="margin-top: 20px;">
                <a href="/" class="back-btn">ğŸ  è¿”å›åšå®¢ä¸»é¡µ</a>
            </div>
        </div>
    </div>

    <script>
        const { createApp, ref, computed, onMounted } = Vue;

        // åˆ›å»ºé›¨æ»´æ•ˆæœ
        function createRaindrops() {
            const rainContainer = document.getElementById('rain');
            const numRaindrops = 50;

            for (let i = 0; i < numRaindrops; i++) {
                const raindrop = document.createElement('div');
                raindrop.className = 'raindrop';

                // éšæœºä½ç½®å’Œé«˜åº¦
                const left = Math.random() * 100;
                const height = Math.random() * 20 + 10;
                const animationDuration = Math.random() * 2 + 1;
                const animationDelay = Math.random() * 2;

                raindrop.style.left = left + '%';
                raindrop.style.height = height + 'px';
                raindrop.style.animationDuration = animationDuration + 's';
                raindrop.style.animationDelay = animationDelay + 's';

                rainContainer.appendChild(raindrop);
            }
        }

        createApp({
            setup() {
                const couponCode = ref('NjQ4NjU3');
                const registerUrl = ref('https://www.rainyun.com/NjQ4NjU3_?s=blog-hexo');
                const isCopied = ref(false);

                const copyButtonText = computed(() => {
                    return isCopied.value ? 'âœ… å·²å¤åˆ¶' : 'å¤åˆ¶ä¼˜æƒ ç ';
                });

                const copyCode = async () => {
                    try {
                        await navigator.clipboard.writeText(couponCode.value);
                        isCopied.value = true;

                        setTimeout(() => {
                            isCopied.value = false;
                        }, 2000);
                    } catch (err) {
                        console.error('å¤åˆ¶å¤±è´¥ï¼š', err);
                        // é™çº§æ–¹æ¡ˆï¼šé€‰æ‹©æ–‡æœ¬
                        const textArea = document.createElement('textarea');
                        textArea.value = couponCode.value;
                        document.body.appendChild(textArea);
                        textArea.select();
                        document.execCommand('copy');
                        document.body.removeChild(textArea);

                        isCopied.value = true;
                        setTimeout(() => {
                            isCopied.value = false;
                        }, 2000);
                    }
                };

                onMounted(() => {
                    createRaindrops();
                });

                return {
                    couponCode,
                    registerUrl,
                    isCopied,
                    copyButtonText,
                    copyCode
                };
            }
        }).mount('#app');
    </script>
</body>
</html>